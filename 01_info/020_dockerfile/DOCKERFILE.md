<a href="/README.md">вернуться к оглавлению</a>

<b>Создаем Dockerfile</b> <br><br>

В корне проекта создаем файл Dockerfile.

Его содержимое:
<pre>
FROM maven:3.6.3-openjdk-17
RUN mkdir docker_example
WORKDIR docker_example
COPY . .
RUN mvn install
CMD ["java", "-jar", "target/main.jar"]
</pre>

Описание:<br>
Примечание. Все команды будут выполнятся в среде Linux(Ubuntu),<br>
когда мы склонируем проект в среду Linux.

FROM указывает образ, который будет использоваться для построения нашего образа. <br>
Их может быть несколько. Мы явно указываем образ Maven и образ JDK.<br><br>

RUN выполняет команду в терминале. <br>
В первую очередь нам нужно создать директорию под проект <br><br>

WORKDIR устанавливает рабочую директорию.  
Это значит что все команды терминала будут запускаться из нее <br><br>

COPY производит копирование файлов из хост машины в образ. <br>
Так как мы установили рабочую директорию ранее, то все файлы скопируются в нее <br><br>

RUN mvn package install позволяет нам запустить команду упаковки нашего проекта в jar <br><br>

CMD указывает что мы будем запускать, когда мы будем запускать контейнер. 
В данном случае это target/main.jar